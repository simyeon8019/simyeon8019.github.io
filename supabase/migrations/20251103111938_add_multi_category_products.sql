-- ==========================================
-- 다양한 카테고리 테스트 상품 추가 마이그레이션
-- 작성일: 2025-11-03
-- 설명: 패션 상품 외 다른 카테고리(전자제품, 도서, 식품, 스포츠, 뷰티, 생활/가정) 상품 추가
-- ==========================================

-- ==========================================
-- 0. category CHECK 제약조건 제거 (다양한 카테고리 허용)
-- ==========================================

-- 기존 패션 카테고리만 허용하는 CHECK 제약조건 삭제
ALTER TABLE products DROP CONSTRAINT IF EXISTS products_category_check;

-- ==========================================
-- 1. 전자제품 (electronics) 상품 추가
-- ==========================================

INSERT INTO products (name, description, price, category, sizes, stock, is_active) VALUES
('아이폰 15 Pro', '티타늄 디자인, A17 Pro 칩셋, 48MP 메인 카메라', 1590000, 'electronics', '{}', 50, true),
('갤럭시 S24 울트라', 'AI 기능 강화, 200MP 카메라, S펜 지원', 1490000, 'electronics', '{}', 45, true),
('맥북 프로 16인치', 'M3 Pro 칩셋, Liquid Retina XDR 디스플레이', 3200000, 'electronics', '{}', 30, true),
('에어팟 프로 2세대', '액티브 노이즈 캔슬링, 공간 음향 지원', 359000, 'electronics', '{}', 100, true),
('아이패드 에어', 'M2 칩셋, 10.9인치 Liquid Retina 디스플레이', 899000, 'electronics', '{}', 60, true),
('갤럭시 버즈 프로', '노이즈 캔슬링, IPX7 방수', 229000, 'electronics', '{}', 80, true),
('로지텍 MX 마스터 3S', '인체공학적 디자인, 다중 기기 연결', 129000, 'electronics', '{}', 150, true),
('LG 그램 17인치', '울트라슬림 디자인, 긴 배터리 수명', 1890000, 'electronics', '{}', 40, true);

-- ==========================================
-- 2. 도서 (books) 상품 추가
-- ==========================================

INSERT INTO products (name, description, price, category, sizes, stock, is_active) VALUES
('클린 코드', '로버트 C. 마틴의 소프트웨어 장인 정신의 바이블', 33000, 'books', '{}', 100, true),
('이펙티브 타입스크립트', '댄 밴더캄의 타입스크립트 활용법 62가지', 28000, 'books', '{}', 80, true),
('HTTP 완벽 가이드', '웹 개발자를 위한 필수 HTTP 가이드북', 45000, 'books', '{}', 60, true),
('해리 포터와 마법사의 돌', 'J.K. 롤링의 판타지 소설 시리즈 1권', 12000, 'books', '{}', 200, true),
('불편한 편의점', '김호연의 베스트셀러 소설', 13800, 'books', '{}', 150, true),
('미드나잇 라이브러리', '매트 헤이그의 감동적인 소설', 15000, 'books', '{}', 120, true),
('세이노의 가르침', '인생 철학과 투자 지혜를 담은 책', 16000, 'books', '{}', 180, true),
('혼자 공부하는 머신러닝+딥러닝', '프로그래밍 입문자를 위한 실습서', 32000, 'books', '{}', 90, true);

-- ==========================================
-- 3. 식품 (food) 상품 추가
-- ==========================================

INSERT INTO products (name, description, price, category, sizes, stock, is_active) VALUES
('프리미엄 원두 커피 1kg', '에티오피아 예가체프, 산미와 바디감의 균형', 28000, 'food', '{}', 200, true),
('유기농 아몬드 500g', '무염 로스팅, 신선한 견과류', 18000, 'food', '{}', 150, true),
('올리브 오일 엑스트라 버진', '스페인 직수입, 요리/샐러드용', 35000, 'food', '{}', 100, true),
('마트차 차이티', '프리미엄 말차 분말, 우마미 풍미', 45000, 'food', '{}', 80, true),
('유기농 꿀 500g', '천연 벌꿀, 무첨가 설탕', 25000, 'food', '{}', 120, true),
('그래놀라 시리얼', '건강한 아침식사용, 곡물과 견과류', 15000, 'food', '{}', 180, true),
('프리미엄 초콜릿 세트', '벨기에산 다크초콜릿, 12개입', 32000, 'food', '{}', 90, true),
('유기농 퀴노아 1kg', '단백질 풍부, 글루텐 프리', 18000, 'food', '{}', 110, true);

-- ==========================================
-- 4. 스포츠 (sports) 상품 추가
-- ==========================================

INSERT INTO products (name, description, price, category, sizes, stock, is_active) VALUES
('요가 매트 10mm', '두꺼운 쿠션, 미끄럼 방지, 휴대용', 45000, 'sports', '{}', 120, true),
('덤벨 세트 10kg', '조절식 무게, 홈트레이닝용', 85000, 'sports', '{}', 80, true),
('운동화 나이키 에어맥스', '쿠셔닝 최적화, 러닝/워킹', 159000, 'sports', '{}', 60, true),
('등산 배낭 40L', '가벼운 무게, 방수 기능', 98000, 'sports', '{}', 70, true),
('자전거 헬멧', '안전 인증, 통풍 최적화', 75000, 'sports', '{}', 90, true),
('프로틴 파우더', '초콜릿 맛, 2kg 용량', 89000, 'sports', '{}', 100, true),
('수영 고글', '자외선 차단, 방수 처리', 45000, 'sports', '{}', 150, true),
('요가 블록 세트', 'EVA 소재, 2개 세트', 25000, 'sports', '{}', 140, true);

-- ==========================================
-- 5. 뷰티 (beauty) 상품 추가
-- ==========================================

INSERT INTO products (name, description, price, category, sizes, stock, is_active) VALUES
('비타민C 세럼 30ml', '피부 톤 개선, 저자극 포뮬러', 38000, 'beauty', '{}', 200, true),
('선크림 SPF50+ PA++++', '끈적임 없는 텍스처, 50ml', 22000, 'beauty', '{}', 250, true),
('히알루론산 수분 크림', '강력한 보습력, 민감성 피부용', 42000, 'beauty', '{}', 180, true),
('립스틱 세트', '매트 텍스처, 5색 세트', 35000, 'beauty', '{}', 150, true),
('아이크림', '눈가 주름 개선, 안티에이징', 58000, 'beauty', '{}', 120, true),
('클렌징 오일', '피부 타입별 맞춤, 200ml', 32000, 'beauty', '{}', 160, true),
('마스크팩 10매', '히알루론산 함유, 수분 공급', 15000, 'beauty', '{}', 300, true),
('향수 50ml', '우디 플로럴 향, 지속력 우수', 89000, 'beauty', '{}', 100, true);

-- ==========================================
-- 6. 생활/가정 (home) 상품 추가
-- ==========================================

INSERT INTO products (name, description, price, category, sizes, stock, is_active) VALUES
('디퓨저 세트', '천연 에센셜 오일 포함, 200ml', 32000, 'home', '{}', 110, true),
('무선 청소기', '강력한 흡입력, 경량 디자인', 299000, 'home', '{}', 50, true),
('에어프라이어', '4L 용량, 자동 조리 기능', 189000, 'home', '{}', 60, true),
('스마트 조명', '앱 연동, 색상 조절 가능', 89000, 'home', '{}', 80, true),
('수면 안대', '부드러운 실크 소재, 어둠 완벽 차단', 18000, 'home', '{}', 200, true),
('주방 도마 세트', '나무 소재, 위생 처리', 45000, 'home', '{}', 120, true),
('차량용 공기청정기', 'HEPA 필터, USB 충전', 89000, 'home', '{}', 90, true),
('양탄자 러그', '부드러운 터치, 다양한 사이즈', 129000, 'home', '{}', 70, true);

-- ==========================================
-- 7. 의류 (clothing) 카테고리 상품 추가
-- ==========================================

-- 기존 패션 상품을 clothing 카테고리로 분류하기 위한 참고용
-- 실제로는 기존 상품들의 카테고리를 변경하지 않고, 새로운 clothing 상품만 추가
INSERT INTO products (name, description, price, category, sizes, stock, is_active) VALUES
('오버핏 후드티', '면 100% 소재, 부드러운 착용감', 59000, 'clothing', '{}', 150, true),
('슬림핏 청바지', '데님 원단, 남녀공용', 89000, 'clothing', '{}', 120, true),
('코치 재킷', '경량 방풍 소재, 캐주얼 스타일', 129000, 'clothing', '{}', 90, true),
('베이직 반팔 티셔츠', '다양한 컬러, 5팩 세트', 45000, 'clothing', '{}', 200, true);

-- ==========================================
-- 마이그레이션 완료 로그
-- ==========================================

DO $$
BEGIN
    RAISE NOTICE '✅ 다양한 카테고리 테스트 상품 추가 완료';
    RAISE NOTICE '   - category CHECK 제약조건 제거 (다양한 카테고리 허용)';
    RAISE NOTICE '   - 전자제품: 8개 추가';
    RAISE NOTICE '   - 도서: 8개 추가';
    RAISE NOTICE '   - 식품: 8개 추가';
    RAISE NOTICE '   - 스포츠: 8개 추가';
    RAISE NOTICE '   - 뷰티: 8개 추가';
    RAISE NOTICE '   - 생활/가정: 8개 추가';
    RAISE NOTICE '   - 의류: 4개 추가';
    RAISE NOTICE '   - 총 52개 상품 추가 완료';
END $$;

